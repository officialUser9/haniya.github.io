"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[311],{3311:(e,t,r)=>{r.r(t),r.d(t,{default:()=>W});var i=r(9950),a=r(9246),n=r(7233),s=r(2346),l=r(7535),o=r(397),c=r(4965),d=r(371),h=r(8605),x=r(2057),u=r(7073),A=r(1001),j=r(8279),p=r(6583),g=r(33),f=r(9329),v=r(9009),m=r(6601),y=r(6125),b=r(379),w=r(760),C=r(4695),S=r.n(C),k=r(9928),z=r(3729),E=r(8429),M=r(4414);const D=()=>(0,M.jsx)(M.Fragment,{children:Array.from({length:5}).map(((e,t)=>(0,M.jsxs)(d.A,{children:[(0,M.jsx)(h.A,{children:(0,M.jsx)(y.A,{variant:"rectangular",height:20,width:50})}),(0,M.jsx)(h.A,{children:(0,M.jsx)(y.A,{variant:"rectangular",height:20,width:100})}),(0,M.jsx)(h.A,{children:(0,M.jsx)(y.A,{variant:"rectangular",height:20,width:100})}),(0,M.jsx)(h.A,{children:(0,M.jsx)(y.A,{variant:"rectangular",height:20,width:200})}),(0,M.jsx)(h.A,{children:(0,M.jsx)(y.A,{variant:"rectangular",height:20,width:50})}),(0,M.jsx)(h.A,{children:(0,M.jsx)(y.A,{variant:"rectangular",height:20,width:50})}),(0,M.jsx)(h.A,{children:(0,M.jsxs)(s.A,{sx:{display:"flex",gap:2},children:[(0,M.jsx)(y.A,{variant:"circular",width:24,height:24}),(0,M.jsx)(y.A,{variant:"circular",width:24,height:24})]})})]},t)))}),W=()=>{const e=(0,E.Zp)(),[t,r]=(0,i.useState)([]),[y,C]=(0,i.useState)(!0),[W,F]=(0,i.useState)(null),[L,O]=(0,i.useState)(null),[B,H]=(0,i.useState)(""),[I,N]=(0,i.useState)(!1),[P,T]=(0,i.useState)(null),[K,V]=(0,i.useState)(1),[R,U]=(0,i.useState)(0),[Z,_]=(0,i.useState)(10);(0,i.useEffect)((()=>{(async()=>{try{const e=await a.A.get("http://134.209.145.149:9999/api/product");r(e.data.products),U(e.data.total_products)}catch(e){F(e)}finally{C(!1)}})()}),[]);const q=(e,t)=>{O(e.currentTarget),H(t)},G=()=>{O(null),H("")},J=Boolean(L);if(W)return(0,M.jsxs)(n.A,{children:["Error: ",W.message]});if(!Array.isArray(t))return(0,M.jsx)(n.A,{children:"Error: Unexpected data format"});return(0,M.jsxs)(k.A,{children:[(0,M.jsxs)(s.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,M.jsx)(n.A,{variant:"h3",component:"h2",sx:{flex:1},children:"Product List"}),(0,M.jsx)(s.A,{sx:{display:"flex",gap:2},children:(0,M.jsx)(l.A,{variant:"contained",color:"primary",size:"large",onClick:()=>{e("/addproduct")},children:"Add Product"})})]}),(0,M.jsx)(s.A,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:(0,M.jsxs)(o.A,{"aria-label":"simple table",sx:{whiteSpace:"nowrap",mt:2},children:[(0,M.jsx)(c.A,{children:(0,M.jsxs)(d.A,{children:[(0,M.jsx)(h.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,M.jsx)(n.A,{variant:"subtitle2",fontWeight:600,children:"Id"})}),(0,M.jsx)(h.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,M.jsx)(n.A,{variant:"subtitle2",fontWeight:600,children:"Name"})}),(0,M.jsx)(h.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,M.jsx)(n.A,{variant:"subtitle2",fontWeight:600,children:"Actions"})})]})}),(0,M.jsx)(x.A,{children:y?(0,M.jsx)(D,{}):0===t.length?(0,M.jsx)(d.A,{children:(0,M.jsx)(h.A,{colSpan:7,children:(0,M.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:(0,M.jsx)("img",{src:z,alt:"No data available",style:{maxWidth:"100%",maxHeight:"100%"}})})})}):t.map(((t,r)=>(0,M.jsxs)(d.A,{children:[(0,M.jsx)(h.A,{children:(0,M.jsx)(n.A,{sx:{fontSize:"15px",fontWeight:"500"},children:r+1})}),(0,M.jsx)(h.A,{children:(0,M.jsx)(n.A,{variant:"subtitle2",fontWeight:600,children:t.name})}),(0,M.jsxs)(h.A,{children:[(0,M.jsx)(u.A,{"aria-owns":J?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:e=>q(e,"Edit"),onMouseLeave:G,onClick:()=>{return r=t.id,void e("/addproduct/".concat(r));var r},children:(0,M.jsx)(b.A,{})}),(0,M.jsx)(u.A,{"aria-owns":J?"mouse-over-popover":void 0,"aria-haspopup":"true",onMouseEnter:e=>q(e,"Delete"),onMouseLeave:G,onClick:()=>(e=>{T(e),N(!0)})(t),children:(0,M.jsx)(w.A,{})}),(0,M.jsx)(A.Ay,{id:"mouse-over-popover",sx:{pointerEvents:"none"},open:J,anchorEl:L,anchorOrigin:{vertical:"bottom",horizontal:"left"},transformOrigin:{vertical:"top",horizontal:"left"},onClose:G,disableRestoreFocus:!0,children:(0,M.jsx)(s.A,{sx:{p:1},children:(0,M.jsx)(n.A,{children:B})})})]})]},t.id)))})]})}),(0,M.jsx)(s.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,M.jsx)(j.A,{count:Math.ceil(R/Z),page:K,onChange:(e,t)=>{V(t)},color:"primary"})}),(0,M.jsxs)(p.A,{open:I,onClose:()=>N(!1),"aria-labelledby":"alert-dialog-title","aria-describedby":"alert-dialog-description",children:[(0,M.jsx)(g.A,{id:"alert-dialog-title",children:"Confirm Deletion"}),(0,M.jsx)(f.A,{children:(0,M.jsxs)(v.A,{id:"alert-dialog-description",children:['Are you sure you want to delete the product "',null===P||void 0===P?void 0:P.name,'"?']})}),(0,M.jsxs)(m.A,{children:[(0,M.jsx)(l.A,{onClick:()=>N(!1),children:"Cancel"}),(0,M.jsx)(l.A,{onClick:async()=>{N(!1);try{await a.A.delete("http://134.209.145.149:9999/api/product/".concat(P.id)),r(t.filter((e=>e.id!==P.id))),S().fire({icon:"success",title:"Deleted!",text:"Product deleted successfully",confirmButtonText:"OK"})}catch(W){S().fire({icon:"error",title:"Error!",text:"Failed to delete product",confirmButtonText:"OK"})}},color:"primary",autoFocus:!0,children:"Delete"})]})]})]})}},760:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(5471),a=r(4414);const n=(0,i.A)((0,a.jsx)("path",{d:"M6 19c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7H6zM19 4h-3.5l-1-1h-5l-1 1H5v2h14z"}),"Delete")},379:(e,t,r)=>{r.d(t,{A:()=>n});var i=r(5471),a=r(4414);const n=(0,i.A)((0,a.jsx)("path",{d:"M3 17.25V21h3.75L17.81 9.94l-3.75-3.75zM20.71 7.04c.39-.39.39-1.02 0-1.41l-2.34-2.34a.9959.9959 0 0 0-1.41 0l-1.83 1.83 3.75 3.75z"}),"Edit")},3729:(e,t,r)=>{e.exports=r.p+"static/media/NoData.d7d252633249b13476cc.jpg"}}]);