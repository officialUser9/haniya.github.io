"use strict";(self.webpackChunkmodernize=self.webpackChunkmodernize||[]).push([[362],{6362:(e,t,s)=>{s.r(t),s.d(t,{default:()=>S});var a=s(9950),i=s(9246),r=s(2346),l=s(7233),n=s(2145),c=s(6059),d=s(736),o=s(7987),x=s(4341),h=s(397),u=s(4965),A=s(371),j=s(8605),f=s(2057),v=s(6125),m=s(7299),g=s(8279),p=s(9928),b=s(3729),y=s(8429),C=s(4414);const S=()=>{(0,y.Zp)();const[e,t]=(0,a.useState)([]),[s,S]=(0,a.useState)(!0),[w,k]=(0,a.useState)(null),[W,_]=(0,a.useState)(""),[I,z]=(localStorage.getItem("user_type"),(0,a.useState)("all")),[L,E]=(0,a.useState)(1),[N,H]=(0,a.useState)(0),[U,D]=(0,a.useState)(10);(0,a.useEffect)((()=>{(async()=>{S(!0);try{const e=await i.A.get("http://134.209.145.149:9999/api/listUser?role_id=2",{params:{status:I,page:L,per_page:U}});Array.isArray(e.data.users)?(t(e.data.users),H(e.data.total_users)):(console.error("Unexpected data format",e.data),t([]))}catch(e){console.error("Error fetching customers:",e),k(e)}finally{S(!1)}})()}),[I,L,U]);const M=(null===e||void 0===e?void 0:e.filter((e=>{var t,s,a;const i=W.toLowerCase();return(null===e||void 0===e||null===(t=e.first_name)||void 0===t?void 0:t.toLowerCase().includes(i))||(null===e||void 0===e||null===(s=e.last_name)||void 0===s?void 0:s.toLowerCase().includes(i))||(null===e||void 0===e||null===(a=e.email)||void 0===a?void 0:a.toLowerCase().includes(i))||""})))||[];return(0,C.jsxs)(p.A,{children:[(0,C.jsxs)(r.A,{sx:{display:"flex",alignItems:"center",mb:2},children:[(0,C.jsx)(l.A,{variant:"h3",component:"h2",sx:{flex:1},children:"Customer List"}),(0,C.jsxs)(r.A,{sx:{display:"flex",gap:2},children:[(0,C.jsxs)(n.A,{variant:"outlined",size:"medium",children:[(0,C.jsx)(c.A,{children:"Select"}),(0,C.jsxs)(d.A,{value:I,onChange:e=>{z(e.target.value)},label:"Select",sx:{height:"100%",minWidth:"120px"},children:[(0,C.jsx)(o.A,{value:"all",children:"All"}),(0,C.jsx)(o.A,{value:1,children:"Active"}),(0,C.jsx)(o.A,{value:0,children:"Inactive"})]})]}),(0,C.jsx)(x.A,{size:"medium",label:"Search Customer",variant:"outlined",value:W,onChange:e=>_(e.target.value)})]})]}),(0,C.jsxs)(r.A,{sx:{overflow:"auto",width:{xs:"280px",sm:"auto"}},children:[(0,C.jsxs)(h.A,{"aria-label":"simple table",sx:{whiteSpace:"nowrap",mt:2},children:[(0,C.jsx)(u.A,{children:(0,C.jsxs)(A.A,{children:[(0,C.jsx)(j.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,C.jsx)(l.A,{variant:"subtitle2",fontWeight:600,children:"Id"})}),(0,C.jsx)(j.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,C.jsx)(l.A,{variant:"subtitle2",fontWeight:600,children:"Name"})}),(0,C.jsx)(j.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,C.jsx)(l.A,{variant:"subtitle2",fontWeight:600,children:"Email"})}),(0,C.jsx)(j.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,C.jsx)(l.A,{variant:"subtitle2",fontWeight:600,children:"Phone"})}),(0,C.jsx)(j.A,{sx:{backgroundColor:"#f5f5f5"},children:(0,C.jsx)(l.A,{variant:"subtitle2",fontWeight:600,children:"Status"})})]})}),(0,C.jsx)(f.A,{children:s?Array.from(new Array(5)).map(((e,t)=>(0,C.jsxs)(A.A,{children:[(0,C.jsx)(j.A,{children:(0,C.jsx)(v.A,{variant:"text",width:40})}),(0,C.jsx)(j.A,{children:(0,C.jsx)(v.A,{variant:"text",width:100})}),(0,C.jsx)(j.A,{children:(0,C.jsx)(v.A,{variant:"text",width:150})}),(0,C.jsx)(j.A,{children:(0,C.jsx)(v.A,{variant:"text",width:60})}),(0,C.jsx)(j.A,{children:(0,C.jsx)(v.A,{variant:"text",width:60})})]},t))):M.length>0?M.map(((e,t)=>(0,C.jsxs)(A.A,{children:[(0,C.jsx)(j.A,{children:(0,C.jsx)(l.A,{variant:"subtitle2",children:t+1+(L-1)*U})}),(0,C.jsx)(j.A,{children:(0,C.jsxs)(l.A,{variant:"subtitle2",children:[e.first_name," ",e.last_name]})}),(0,C.jsx)(j.A,{children:(0,C.jsx)(l.A,{color:"textSecondary",variant:"subtitle2",children:e.email||"-"})}),(0,C.jsx)(j.A,{children:(0,C.jsx)(l.A,{color:"textSecondary",variant:"subtitle2",children:e.phone||"-"})}),(0,C.jsx)(j.A,{children:(0,C.jsx)(m.A,{label:e.status?"Active":"Inactive",color:e.status?"success":"error",sx:{borderRadius:"4px",fontSize:"0.8rem"}})})]},e.id))):(0,C.jsx)(A.A,{children:(0,C.jsx)(j.A,{colSpan:5,sx:{textAlign:"center"},children:(0,C.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:(0,C.jsx)("img",{src:b,alt:"No data available",style:{maxWidth:"100%",maxHeight:"100%"}})})})})})]}),w&&(0,C.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"300px"},children:(0,C.jsx)("img",{src:b,alt:"Error fetching data",style:{maxWidth:"100%",maxHeight:"100%"}})}),(0,C.jsx)(r.A,{sx:{display:"flex",justifyContent:"center",mt:3},children:(0,C.jsx)(g.A,{count:Math.ceil(N/U),page:L,onChange:(e,t)=>{E(t)},color:"primary"})})]})]})}},3729:(e,t,s)=>{e.exports=s.p+"static/media/NoData.d7d252633249b13476cc.jpg"}}]);